<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirect to Namecard</title>
    <script>
        const vcardData = `BEGIN:VCARD
VERSION:3.0
N:Tran;Dung
FN:Tran Dung
EMAIL;TYPE=WORK:[email protected]
TEL;TYPE=CELL:+1234567890
END:VCARD`;

        function downloadVCF() {
            const url = 'data:text/vcard;charset=utf-8,' + encodeURIComponent(vcardData);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'contact.vcf';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
        if (isIOS) {
            downloadVCF();
        } else {
            window.location.href = 'https://saithanh051.netlify.app/namecard/trandung';
        }

        setTimeout(() => {
            document.getElementById("manual-instructions").style.display = "block";
        }, 1000);
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f5f5f5;
        }
        #manual-instructions {
            display: none;
            margin-top: 20px;
        }
        .open-button {
            background-color: #1976d2;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
        }
        .open-button:hover {
            background-color: #1565c0;
        }
        .copy-instructions {
            color: #d32f2f;
            font-size: 14px;
            margin-top: 10px;
        }
        .link-text {
            font-family: monospace;
            background-color: #e0e0e0;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h2>Đang chuyển hướng...</h2>
    <p>Vui lòng chờ giây lát để đến trang danh thiếp.</p>
    <div id="manual-instructions">
        <p>Nếu không tự động chuyển hướng, hãy sử dụng một trong các cách sau:</p>
        <button class="open-button" onclick="downloadVCF()">Tải file VCF</button>
        <button class="open-button" onclick="window.open('https://saithanh051.netlify.app/namecard/trandung', '_blank')">Mở trong Safari</button>
        <p class="copy-instructions">
            Nếu bạn dùng Zalo trên iPhone, nhấn giữ liên kết bên dưới và chọn "Lưu vào Files". Sau đó, mở ứng dụng Files, tìm file "contact.vcf" và nhấn để thêm vào Danh bạ.<br>
            <a href="https://saithanh051.netlify.app/namecard/trandung" download class="link-text">Tải file VCF</a>
        </p>
    </div>
</body>
</html>
